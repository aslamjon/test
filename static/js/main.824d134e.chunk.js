(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{262:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(29),a=n.n(c),s=n(60),o=n(46),i=n(83),u=(n(166),n(135)),d=n(34),j="SET_AUTH",b={currentUser:""},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{currentUser:t.payload});default:return e}},p="SET_PRODUCTS",O="SEARCH_PRODUCT",h={products:0,search:""},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(d.a)(Object(d.a)({},e),{},{products:t.payload});case O:return Object(d.a)(Object(d.a)({},e),{},{search:t.payload});default:return e}},x=Object(i.b)({user:l,products:m}),f=[u.a];var g,y,S,v,k,P,w=Object(i.c)(x,i.a.apply(void 0,f)),U=n(136),_=n(137),C=n(155),I=n(150),T=n(23),N=n(44),z=(n(167),Object(N.a)([function(e){return e.user}],(function(e){return e.currentUser}))),D=n(92),E=n.n(D),L=n(138),R=n(49),B=n(266),F=n(141),H=n(267),Z=n(264),q=n(48),A=n(62),J=n(9),G=q.c.div(g||(g=Object(R.a)(["\n    padding: 15px;\n    div {\n        width: 300px;\n    }\n"]))),V=q.c.div(y||(y=Object(R.a)(["\n    ul {\n        padding: 0 15px;\n    }\n"]))),K=q.c.div(S||(S=Object(R.a)(["\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    div {\n        margin: 10px;\n    }\n"]))),M=Object(J.jsx)(A.a,{style:{fontSize:24},spin:!0}),Q=Object(o.b)(null,(function(e){return{SearchProducts:function(t){return e({type:O,payload:t})}}}))((function(e){var t=e.dataSource,n=e.columns,r=e.SearchProducts,c=e.ProductsSelector,a=B.a.Search;return Object(J.jsx)(J.Fragment,{children:c?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(G,{children:Object(J.jsx)(H.b,{direction:"vertical",children:Object(J.jsx)(a,{placeholder:"input search text",onSearch:function(e){return r(e)},enterButton:!0})})}),Object(J.jsx)(V,{children:Object(J.jsx)(Z.a,{dataSource:t,columns:n})})]}):Object(J.jsxs)(K,{children:[Object(J.jsx)(F.a,{indicator:M}),"Loading..."]})})})),W=function(e){return e.products},X=Object(N.a)([W],(function(e){return e.products})),Y=Object(N.a)([W],(function(e){return e.search})),$=[{key:"key",title:"\u2116",dataIndex:"key"},{key:"name",title:"Name",dataIndex:"name"},{title:"Description",dataIndex:"des",key:"des"},{title:"Sell Price",dataIndex:"sellPrice",key:"sellPrice"},{title:"Count",dataIndex:"count",key:"count"}],ee=!1,te=Object(N.b)({ProductsSelector:X,SearchProduct:Y}),ne=Object(o.b)(te,(function(e){return{SetProducts:function(t){return e({type:p,payload:t})}}}))((function(e){var t=e.token,n=e.ProductsSelector,r=e.SetProducts,c=e.SearchProduct,a=function(){n&&n.map((function(e,t){return ee.push({key:t+1,name:e.supplier,des:e.name,sellPrice:e.stocks[0].sellPrice.UZS+" UZS",count:e.stocks[0].count})}))};return ee||(ee=[],function(){var e=JSON.stringify({size:286,page:1,stock:{exist:!0,location:[42]}}),n={headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}};E.a.post("https://face.ox-sys.com/variations",e,n).then((function(e){return console.log(e.data),r(e.data.items),e}))}(),a()),""===c?(ee=[],a()):(ee=[],n.map((function(e,t){return e.supplier.toLowerCase().includes(c.toLowerCase())&&ee.push({key:t+1,name:e.supplier,des:e.name,sellPrice:e.stocks[0].sellPrice.UZS+" UZS",count:e.stocks[0].count}),e})),ee=Object(L.orderBy)(ee,["name"],["asc"])),Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Q,{ProductsSelector:n,dataSource:ee,columns:$,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})})})),re=n(91),ce=n(151),ae=n(265),se=n(52),oe=n(268),ie=n(269),ue=n(270),de=q.c.div(v||(v=Object(R.a)(["\n    background: #212529;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),je=q.c.form(k||(k=Object(R.a)(["\n    padding: 15px 20px;\n    background: rgba(255,255,255,0.9);\n    border-radius: 10px;\n    box-shadow: 0px 0px 8px rgba(0,0,0,0.2);\n"]))),be=n(105),le=(n(260),Object(N.b)({currentUser:z})),pe=Object(o.b)(le,(function(e){return{SetCurrentUser:function(t){return e({type:j,payload:t})}}}))((function(e){var t=e.SetCurrentUser,n=Object(r.useState)({_username:"",_password:"",_subdomain:""}),c=Object(ce.a)(n,2),a=c[0],o=c[1],i=function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(re.a)({},e.target.name,e.target.value))}))},u=a._username,j=a._password,b=a._subdomain;return Object(J.jsxs)(de,{children:[Object(J.jsx)(be.a,{}),Object(J.jsx)(je,{children:Object(J.jsxs)(ae.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},children:[Object(J.jsx)(ae.a.Item,{name:"_username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(J.jsx)(B.a,{prefix:Object(J.jsx)(oe.a,{className:"site-form-item-icon"}),placeholder:"Username",name:"_username",value:u,onChange:i})}),Object(J.jsx)(ae.a.Item,{name:"_password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(J.jsx)(B.a,{prefix:Object(J.jsx)(ie.a,{className:"site-form-item-icon"}),type:"password",name:"_password",placeholder:"Password",value:j,onChange:i})}),Object(J.jsx)(ae.a.Item,{name:"_subdomain",rules:[{required:!0,message:"Please input your Subdomain!"}],children:Object(J.jsx)(B.a,{prefix:Object(J.jsx)(ue.a,{className:"site-form-item-icon"}),type:"text",placeholder:"Subdomain",name:"_subdomain",value:b,onChange:i})}),Object(J.jsxs)(ae.a.Item,{children:[Object(J.jsx)(se.a,{type:"primary",htmlType:"button",onClick:function(e){var n=new URLSearchParams(a);E.a.post("https://face.ox-sys.com/security/auth_check",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.data.token&&t(Object(d.a)(Object(d.a)({},a),{},{token:e.data.token}))})).catch((function(e){be.b.error("Error: Unauthorized !",{position:be.b.POSITION.TOP_RIGHT})})),e.preventDefault()},className:"login-form-button",children:"Log in"}),"Or ",Object(J.jsx)(s.b,{to:"/signup",children:"register now!"})]})]})})]})})),Oe=function(){return Object(J.jsxs)(J.Fragment,{children:["Now Doesn't access to Sign Up",Object(J.jsx)(s.b,{className:"btn btn-outline-primary",to:"/",children:"Home"})]})},he=function(e){Object(C.a)(n,e);var t=Object(I.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"render",value:function(){var e=this.props.currentUser;return Object(J.jsx)("div",{children:Object(J.jsxs)(T.d,{children:[Object(J.jsx)(T.b,{exact:!0,path:"/",render:function(){return e.token?Object(J.jsx)(ne,{token:e.token}):Object(J.jsx)(pe,{})}}),Object(J.jsx)(T.b,{path:"/signup",component:Oe}),Object(J.jsx)(T.b,{path:"/signin",render:function(){return e.token?Object(J.jsx)(T.a,{to:"/"}):Object(J.jsx)(pe,{})}}),Object(J.jsx)(T.b,{path:"/test",render:function(){return Object(J.jsx)(T.a,{to:"/"})}})]})})}}]),n}(r.Component),me=Object(N.b)({currentUser:z}),xe=Object(o.b)(me,null)(he),fe=Object(q.b)(P||(P=Object(R.a)(["\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\nbody {\n  font-size: 14px;\n  background: #212529;\n  color: #fff;\n}\n"]))),ge=function(e){var t=e.children;return Object(J.jsxs)(q.a,{theme:{dark:!1},children:[Object(J.jsx)(fe,{}),t]})};a.a.render(Object(J.jsx)(o.a,{store:w,children:Object(J.jsx)(s.a,{children:Object(J.jsx)(ge,{children:Object(J.jsx)(xe,{})})})}),document.getElementById("root"))}},[[262,1,2]]]);
//# sourceMappingURL=main.824d134e.chunk.js.map