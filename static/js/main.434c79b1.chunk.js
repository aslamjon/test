(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{262:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(29),a=n.n(c),s=n(61),o=n(56),i=n(84),u=(n(166),n(137)),j=n(34),b="SET_AUTH",d={currentUser:""},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(j.a)(Object(j.a)({},e),{},{currentUser:t.payload});default:return e}},O="SET_PRODUCTS",p="SEARCH_PRODUCT",h={products:0,search:""},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(j.a)(Object(j.a)({},e),{},{products:t.payload});case p:return Object(j.a)(Object(j.a)({},e),{},{search:t.payload});default:return e}},x=Object(i.b)({user:l,products:m}),f=[u.a];var g,y,v,S,k,P,w=Object(i.c)(x,i.a.apply(void 0,f)),C=n(138),_=n(139),U=n(155),I=n(151),T=n(23),N=n(44),z=(n(167),Object(N.a)([function(e){return e.user}],(function(e){return e.currentUser}))),E=n(95),L=n.n(E),D=n(85),R=n(60),B=n(88),H=n(48),F=n(266),q=n(142),A=n(267),J=n(264),G=n(47),Z=n(63),V=n(9),W=G.c.div(g||(g=Object(H.a)(["\n    padding: 15px;\n    div {\n        width: 300px;\n    }\n"]))),K=G.c.div(y||(y=Object(H.a)(["\n    ul {\n        padding: 0 15px;\n    }\n"]))),M=G.c.div(v||(v=Object(H.a)(["\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    div {\n        margin: 10px;\n    }\n"]))),Q=Object(V.jsx)(Z.a,{style:{fontSize:24},spin:!0}),X=function(e){var t=e.dataSource,n=e.columns,c=e.ProductsSelector,a=F.a.Search,s=Object(r.useState)(""),o=Object(B.a)(s,2),i=o[0],u=o[1],j=Object(r.useState)(!1),b=Object(B.a)(j,2),d=b[0],l=b[1];var O=function(e){var t=[],n=[],r=0;return e.map((function(e,c){return e.name.toLowerCase().includes(i.toLowerCase())&&(Object(D.startsWith)(e.name.toLowerCase(),i.toLowerCase())?t.push({key:++r,name:e.name,sellPrice:e.sellPrice,count:e.count}):n.push({key:++r,name:e.name,sellPrice:e.sellPrice,count:e.count})),e})),t.push.apply(t,n),t};return""===i||d?""!==i&&d&&(t=O(d)):t=O(t),Object(V.jsx)(V.Fragment,{children:c?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(W,{children:Object(V.jsx)(A.b,{direction:"vertical",children:Object(V.jsx)(a,{placeholder:"input search text",onSearch:function(e){return u(e)},enterButton:!0})})}),Object(V.jsx)(K,{children:Object(V.jsx)(J.a,{dataSource:d||t,columns:n,onChange:function(e,t,n,r){console.log("params",e,t,n,r),n.order?l(Object(D.orderBy)(r.currentDataSource,["name"],["asc"])):l(!1)}})})]}):Object(V.jsxs)(M,{children:[Object(V.jsx)(q.a,{indicator:Q}),"Loading..."]})})},Y=function(e){return e.products},$=Object(N.a)([Y],(function(e){return e.products})),ee=Object(N.a)([Y],(function(e){return e.search})),te=[{key:"key",title:"\u2116",dataIndex:"key"},{key:"name",title:"Name",dataIndex:"name",sorter:!0,sortDirections:["ascend"],render:function(e){return Object(D.orderBy)(e,["name"],["asc"])}},{title:"Sell Price",dataIndex:"sellPrice",key:"sellPrice"},{title:"Count",dataIndex:"count",key:"count"}],ne=!1,re=Object(N.b)({ProductsSelector:$,SearchProduct:ee}),ce=Object(o.b)(re,(function(e){return{SetProducts:function(t){return e({type:O,payload:t})}}}))((function(e){var t=e.token,n=e.ProductsSelector,r=e.SetProducts;ne||function(){var e=JSON.stringify({size:286,page:1,stock:{exist:!0,location:[42]}}),n={headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}};L.a.post("https://face.ox-sys.com/variations",e,n).then((function(e){return r(e.data.items),e})).catch((function(e){R.b.error("Error: Server Error !",{position:R.b.POSITION.TOP_RIGHT})}))}(),ne=[];var c=0;n&&n.map((function(e,t){return ne.push({key:++c,name:e.name,sellPrice:e.stocks[0].sellPrice.UZS+" UZS",count:e.stocks[0].count})}));return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(R.a,{}),Object(V.jsx)(X,{ProductsSelector:n,dataSource:ne,columns:te,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})]})})),ae=n(94),se=n(265),oe=n(51),ie=n(268),ue=n(269),je=n(270),be=G.c.div(S||(S=Object(H.a)(["\n    background: #212529;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),de=G.c.form(k||(k=Object(H.a)(["\n    padding: 15px 20px;\n    background: rgba(255,255,255,0.9);\n    border-radius: 10px;\n    box-shadow: 0px 0px 8px rgba(0,0,0,0.2);\n"]))),le=(n(260),Object(N.b)({currentUser:z})),Oe=Object(o.b)(le,(function(e){return{SetCurrentUser:function(t){return e({type:b,payload:t})}}}))((function(e){var t=e.SetCurrentUser,n=Object(r.useState)({_username:"",_password:"",_subdomain:""}),c=Object(B.a)(n,2),a=c[0],o=c[1],i=function(e){o((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(ae.a)({},e.target.name,e.target.value))}))},u=a._username,b=a._password,d=a._subdomain;return Object(V.jsxs)(be,{children:[Object(V.jsx)(R.a,{}),Object(V.jsx)(de,{children:Object(V.jsxs)(se.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},children:[Object(V.jsx)(se.a.Item,{name:"_username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(V.jsx)(F.a,{prefix:Object(V.jsx)(ie.a,{className:"site-form-item-icon"}),placeholder:"Username",name:"_username",value:u,onChange:i})}),Object(V.jsx)(se.a.Item,{name:"_password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(V.jsx)(F.a,{prefix:Object(V.jsx)(ue.a,{className:"site-form-item-icon"}),type:"password",name:"_password",placeholder:"Password",value:b,onChange:i})}),Object(V.jsx)(se.a.Item,{name:"_subdomain",rules:[{required:!0,message:"Please input your Subdomain!"}],children:Object(V.jsx)(F.a,{prefix:Object(V.jsx)(je.a,{className:"site-form-item-icon"}),type:"text",placeholder:"Subdomain",name:"_subdomain",value:d,onChange:i})}),Object(V.jsxs)(se.a.Item,{children:[Object(V.jsx)(oe.a,{type:"primary",htmlType:"button",onClick:function(e){var n=new URLSearchParams(a);L.a.post("https://face.ox-sys.com/security/auth_check",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.data.token&&t(Object(j.a)(Object(j.a)({},a),{},{token:e.data.token}))})).catch((function(e){R.b.error("Error: Unauthorized !",{position:R.b.POSITION.TOP_RIGHT})})),e.preventDefault()},className:"login-form-button",children:"Log in"}),"Or ",Object(V.jsx)(s.b,{to:"/signup",children:"register now!"})]})]})})]})})),pe=function(){return Object(V.jsxs)(V.Fragment,{children:["Now Doesn't access to Sign Up",Object(V.jsx)(s.b,{className:"btn btn-outline-primary",to:"/",children:"Home"})]})},he=function(e){Object(U.a)(n,e);var t=Object(I.a)(n);function n(){return Object(C.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"render",value:function(){var e=this.props.currentUser;return Object(V.jsx)("div",{children:Object(V.jsxs)(T.d,{children:[Object(V.jsx)(T.b,{exact:!0,path:"/",render:function(){return e.token?Object(V.jsx)(T.a,{to:"/test"}):Object(V.jsx)(Oe,{})}}),Object(V.jsx)(T.b,{exact:!0,path:"/test",render:function(){return e.token?Object(V.jsx)(ce,{token:e.token}):Object(V.jsx)(Oe,{})}}),Object(V.jsx)(T.b,{path:"/test/signup",component:pe}),Object(V.jsx)(T.b,{path:"/test/signin",render:function(){return e.token?Object(V.jsx)(T.a,{to:"/test"}):Object(V.jsx)(Oe,{})}})]})})}}]),n}(r.Component),me=Object(N.b)({currentUser:z}),xe=Object(o.b)(me,null)(he),fe=Object(G.b)(P||(P=Object(H.a)(["\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\nbody {\n  font-size: 14px;\n  background: #212529;\n  color: #fff;\n}\n"]))),ge=function(e){var t=e.children;return Object(V.jsxs)(G.a,{theme:{dark:!1},children:[Object(V.jsx)(fe,{}),t]})};a.a.render(Object(V.jsx)(o.a,{store:w,children:Object(V.jsx)(s.a,{children:Object(V.jsx)(ge,{children:Object(V.jsx)(xe,{})})})}),document.getElementById("root"))}},[[262,1,2]]]);
//# sourceMappingURL=main.434c79b1.chunk.js.map