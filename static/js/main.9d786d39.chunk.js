(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{260:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(32),a=n.n(c),s=n(60),o=n(46),i=n(83),u=(n(165),n(134)),d=n(34),j="SET_AUTH",l={currentUser:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{currentUser:t.payload});default:return e}},p="SET_PRODUCTS",O="SEARCH_PRODUCT",h={products:0,search:""},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(d.a)(Object(d.a)({},e),{},{products:t.payload});case O:return Object(d.a)(Object(d.a)({},e),{},{search:t.payload});default:return e}},x=Object(i.b)({user:b,products:m}),f=[u.a];var g,y,S,v,k,P,w=Object(i.c)(x,i.a.apply(void 0,f)),U=n(135),_=n(136),C=n(154),I=n(150),N=n(23),z=n(44),T=(n(166),Object(z.a)([function(e){return e.user}],(function(e){return e.currentUser}))),D=n(92),L=n.n(D),B=n(137),E=n(49),F=n(264),R=n(140),Z=n(266),q=n(262),A=n(48),H=n(62),J=n(9),V=A.c.div(g||(g=Object(E.a)(["\n    padding: 15px;\n    div {\n        width: 300px;\n    }\n"]))),G=A.c.div(y||(y=Object(E.a)(["\n    ul {\n        padding: 0 15px;\n    }\n"]))),K=A.c.div(S||(S=Object(E.a)(["\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    div {\n        margin: 10px;\n    }\n"]))),M=Object(J.jsx)(H.a,{style:{fontSize:24},spin:!0}),Q=Object(o.b)(null,(function(e){return{SearchProducts:function(t){return e({type:O,payload:t})}}}))((function(e){var t=e.dataSource,n=e.columns,r=e.SearchProducts,c=e.ProductsSelector,a=F.a.Search;return Object(J.jsx)(J.Fragment,{children:c?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(V,{children:Object(J.jsx)(Z.b,{direction:"vertical",children:Object(J.jsx)(a,{placeholder:"input search text",onSearch:function(e){return r(e)},enterButton:!0})})}),Object(J.jsx)(G,{children:Object(J.jsx)(q.a,{dataSource:t,columns:n})})]}):Object(J.jsxs)(K,{children:[Object(J.jsx)(R.a,{indicator:M}),"Loading..."]})})})),W=function(e){return e.products},X=Object(z.a)([W],(function(e){return e.products})),Y=Object(z.a)([W],(function(e){return e.search})),$=[{key:"key",title:"\u2116",dataIndex:"key"},{key:"name",title:"Name",dataIndex:"name"},{title:"Description",dataIndex:"des",key:"des"},{title:"Sell Price",dataIndex:"sellPrice",key:"sellPrice"},{title:"Count",dataIndex:"count",key:"count"}],ee=!1,te=Object(z.b)({ProductsSelector:X,SearchProduct:Y}),ne=Object(o.b)(te,(function(e){return{SetProducts:function(t){return e({type:p,payload:t})}}}))((function(e){var t=e.token,n=e.ProductsSelector,r=e.SetProducts,c=e.SearchProduct,a=function(){n&&n.map((function(e,t){return ee.push({key:t+1,name:e.supplier,des:e.name,sellPrice:e.stocks[0].sellPrice.UZS+" UZS",count:e.stocks[0].count})}))};return ee||(ee=[],function(){var e=JSON.stringify({size:286,page:1,stock:{exist:!0,location:[42]}}),n={headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}};L.a.post("https://face.ox-sys.com/variations",e,n).then((function(e){return console.log(e.data),r(e.data.items),e}))}(),a()),""===c?(ee=[],a()):(ee=[],n.map((function(e,t){return e.supplier.toLowerCase().includes(c.toLowerCase())&&ee.push({key:t+1,name:e.supplier,des:e.name,sellPrice:e.stocks[0].sellPrice.UZS+" UZS",count:e.stocks[0].count}),e})),ee=Object(B.orderBy)(ee,["name"],["asc"])),Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Q,{ProductsSelector:n,dataSource:ee,columns:$,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})})})),re=n(91),ce=n(149),ae=n(263),se=n(52),oe=n(265),ie=n(268),ue=n(267),de=A.c.div(v||(v=Object(E.a)(["\n    background: #212529;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),je=A.c.form(k||(k=Object(E.a)(["\n    padding: 15px 20px;\n    background: rgba(255,255,255,0.9);\n    border-radius: 10px;\n    box-shadow: 0px 0px 8px rgba(0,0,0,0.2);\n"]))),le=Object(z.b)({currentUser:T}),be=Object(o.b)(le,(function(e){return{SetCurrentUser:function(t){return e({type:j,payload:t})}}}))((function(e){var t=e.SetCurrentUser,n=Object(r.useState)({_username:"",_password:"",_subdomain:""}),c=Object(ce.a)(n,2),a=c[0],o=c[1],i=function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(re.a)({},e.target.name,e.target.value))}))},u=a._username,j=a._password,l=a._subdomain;return Object(J.jsx)(de,{children:Object(J.jsx)(je,{children:Object(J.jsxs)(ae.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},children:[Object(J.jsx)(ae.a.Item,{name:"_username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(J.jsx)(F.a,{prefix:Object(J.jsx)(oe.a,{className:"site-form-item-icon"}),placeholder:"Username",name:"_username",value:u,onChange:i})}),Object(J.jsx)(ae.a.Item,{name:"_password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(J.jsx)(F.a,{prefix:Object(J.jsx)(ie.a,{className:"site-form-item-icon"}),type:"password",name:"_password",placeholder:"Password",value:j,onChange:i})}),Object(J.jsx)(ae.a.Item,{name:"_subdomain",rules:[{required:!0,message:"Please input your Subdomain!"}],children:Object(J.jsx)(F.a,{prefix:Object(J.jsx)(ue.a,{className:"site-form-item-icon"}),type:"text",placeholder:"Subdomain",name:"_subdomain",value:l,onChange:i})}),Object(J.jsxs)(ae.a.Item,{children:[Object(J.jsx)(se.a,{type:"primary",htmlType:"button",onClick:function(e){var n=new URLSearchParams(a);L.a.post("https://face.ox-sys.com/security/auth_check",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.data.token&&t(Object(d.a)(Object(d.a)({},a),{},{token:e.data.token}))})),e.preventDefault()},className:"login-form-button",children:"Log in"}),"Or ",Object(J.jsx)(s.b,{to:"/signup",children:"register now!"})]})]})})})})),pe=function(){return Object(J.jsxs)(J.Fragment,{children:["Now Doesn't access to Sign Up",Object(J.jsx)(s.b,{className:"btn btn-outline-primary",to:"/",children:"Home"})]})},Oe=function(e){Object(C.a)(n,e);var t=Object(I.a)(n);function n(){return Object(U.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"render",value:function(){var e=this.props.currentUser;return Object(J.jsx)("div",{children:Object(J.jsxs)(N.d,{children:[Object(J.jsx)(N.b,{exact:!0,path:"/",render:function(){return e.token?Object(J.jsx)(ne,{token:e.token}):Object(J.jsx)(be,{})}}),Object(J.jsx)(N.b,{path:"/signup",component:pe}),Object(J.jsx)(N.b,{path:"/signin",render:function(){return e.token?Object(J.jsx)(N.a,{to:"/"}):Object(J.jsx)(be,{})}})]})})}}]),n}(r.Component),he=Object(z.b)({currentUser:T}),me=Object(o.b)(he,null)(Oe),xe=Object(A.b)(P||(P=Object(E.a)(["\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\nbody {\n  font-size: 14px;\n  background: #212529;\n  color: #fff;\n}\n"]))),fe=function(e){var t=e.children;return Object(J.jsxs)(A.a,{theme:{dark:!1},children:[Object(J.jsx)(xe,{}),t]})};a.a.render(Object(J.jsx)(o.a,{store:w,children:Object(J.jsx)(s.a,{children:Object(J.jsx)(fe,{children:Object(J.jsx)(me,{})})})}),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.9d786d39.chunk.js.map